[alias]
ci = commit
co = checkout
unstage = restore --staged
undo = reset HEAD~1 --mixed
graph = log --graph --all --date=relative --pretty=tformat:'<%h> %C(auto)%d%Creset %s %Cgreen(%an %ad)%Creset'
branches = "!git for-each-ref --sort='-committerdate' --format='%(color:blue)%(authordate:relative)%09%(color:red)%(authorname)%09%(color:white)%(color:bold)%(refname:short)' refs/heads"

# Update the main branch and delete local branches that have been deleted on the remote
sync = "!f() { \
    git checkout main && \
    git pull && \
    git fetch --prune && \
    git branch -vv | grep ': gone]' | awk '{print $1}' | xargs -r git branch -D; \
}; f"

# Rebase current branch from main
update = "!f() { \
    git checkout $(git branch --show-current) && \
    git rebase main; \
}; f"

# Show the current branch, status, and recent commits
st = "!f() { \
    echo -n 'Current Branch: ' && \
    git branch --show-current && \
    echo '--- Status ---' && \
    git status -s && \
    echo '\n--- Recent Commits ---' && \
    git log --oneline -5; \
}; f"

# Close a finished branch
done = "!f() { \
    branch = $(git branch --show-current) && \
    git checkout main && \
    git branch -D $branch; \
}; f"

# Create a new branches from main
feat = "!f() { \
    git checkout -b feature/$1; \
}; f"

fix = "!f() { \
    git checkout -b fix/$1; \
}; f"

ref = "!f() { \
    git checkout -b refactor/$1; \
}; f"

[color]
ui = auto

[commit]
verbose = true

[core]
autocrlf = input
eol = lf

[diff]
algorithm = histogram

[fetch]
prune = true

[filter "lfs"]
clean = git-lfs clean %f
smudge = git-lfs smudge %f
required = true

[merge]
conflictstyle = zdiff3

[pull]
ff = only

[push]
default = current

[rebase]
autoSquash = true
autoStash = true

[rerere]
enabled = true